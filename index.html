<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Black Hole Viewer</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; background: linear-gradient(to bottom, #0a0e27 0%, #1a1a2e 50%, #16213e 100%); min-height: 100vh; color: #333; position: relative; overflow-x: hidden; }
        body.fullscreen-mode { overflow: hidden; }
        .stars-container { position: fixed; top: 0; left: 0; width: 100%; height: 100%; z-index: 0; pointer-events: none; }
        .star { position: absolute; background: white; border-radius: 50%; animation: twinkle linear infinite, moveStar linear infinite; }
        @keyframes twinkle { 0%, 100% { opacity: 0.2; } 50% { opacity: 1; } }
        @keyframes moveStar { 0% { transform: translate(0, 0); } 100% { transform: translate(-100px, 100px); } }
        nav { background: rgba(30, 58, 138, 0.85); backdrop-filter: blur(10px); box-shadow: 0 2px 20px rgba(0,0,0,0.3); position: sticky; top: 0; z-index: 100; }
        body.fullscreen-mode nav { display: none; }
        .nav-container { max-width: 1800px; margin: 0 auto; display: flex; justify-content: space-between; align-items: center; padding: 0 20px; }
        .logo { color: white; font-size: 24px; font-weight: bold; padding: 15px 0; }
        .nav-menu { display: flex; list-style: none; gap: 0; }
        .nav-menu li a { color: white; text-decoration: none; padding: 20px 25px; display: block; transition: background 0.3s; }
        .nav-menu li a:hover { background: rgba(255,255,255,0.1); }
        .hamburger { display: none; flex-direction: column; cursor: pointer; padding: 10px; }
        .hamburger span { width: 25px; height: 3px; background: white; margin: 3px 0; transition: 0.3s; }
        .page-wrapper { max-width: 1800px; margin: 0 auto; padding: 30px 20px; position: relative; z-index: 1; }
        body.fullscreen-mode .page-wrapper { padding: 0; max-width: 100%; margin: 0; }
        .canvas-wrapper { background: rgba(255, 255, 255, 0.95); border-radius: 10px; overflow: hidden; box-shadow: 0 4px 20px rgba(0,0,0,0.2); border: 3px solid #3b82f6; backdrop-filter: blur(10px); margin-bottom: 30px; position: relative; }
        body.fullscreen-mode .canvas-wrapper { border-radius: 0; border: none; margin-bottom: 0; box-shadow: none; }
        #container { width: 100%; height: 900px; position: relative; background: #f8fafc; }
        body.fullscreen-mode #container { height: 100vh; width: 100vw; }
        #container.dark-canvas { background: #1a1a1a; }
        canvas { display: block; width: 100%; height: 100%; }
        .canvas-bg-toggle { position: absolute; top: 20px; right: 20px; z-index: 10; background: rgba(255, 255, 255, 0.05); backdrop-filter: blur(10px); border: 1px solid rgba(255, 255, 255, 0.2); border-radius: 12px; padding: 12px 20px; box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1); display: flex; flex-direction: column; gap: 12px; }
        .toggle-row { display: flex; align-items: center; gap: 12px; }
        .canvas-bg-label { color: #1e293b; font-weight: 600; font-size: 13px; min-width: 85px; }
        #container.dark-canvas .canvas-bg-label { color: white; }
        .layers-panel { position: absolute; top: 20px; left: 20px; z-index: 10; background: rgba(255, 255, 255, 0.02); backdrop-filter: blur(10px); border: 1px solid rgba(255, 255, 255, 0.1); border-radius: 12px; padding: 20px; box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1); width: 220px; max-height: 800px; overflow-y: auto; }
        #container.dark-canvas .layers-panel { background: rgba(0, 0, 0, 0.05); border: 1px solid rgba(255, 255, 255, 0.05); }
        .layers-panel h3 { color: #1e3a8a; margin-bottom: 15px; font-size: 18px; border-bottom: 2px solid #3b82f6; padding-bottom: 8px; }
        #container.dark-canvas .layers-panel h3 { color: #93c5fd; }
        .layer-item { margin-bottom: 5px; }
        .layer-header { display: flex; align-items: center; padding: 10px 0; border-bottom: 1px solid rgba(229, 231, 235, 0.3); cursor: pointer; user-select: none; }
        .expand-btn { width: 20px; height: 20px; margin-right: 8px; background: #3b82f6; color: white; border: none; border-radius: 3px; font-size: 14px; font-weight: bold; cursor: pointer; display: flex; align-items: center; justify-content: center; flex-shrink: 0; }
        .expand-btn:hover { background: #2563eb; }
        .toggle-switch { position: relative; width: 50px; height: 24px; margin-right: 12px; flex-shrink: 0; }
        .toggle-switch input { opacity: 0; width: 0; height: 0; }
        .slider { position: absolute; cursor: pointer; top: 0; left: 0; right: 0; bottom: 0; background-color: rgba(203, 213, 225, 0.5); transition: .4s; border-radius: 24px; }
        .slider:before { position: absolute; content: ""; height: 18px; width: 18px; left: 3px; bottom: 3px; background-color: white; transition: .4s; border-radius: 50%; }
        input:checked + .slider { background-color: #3b82f6; }
        input:checked + .slider:before { transform: translateX(26px); }
        .layer-label { font-size: 14px; color: #374151; font-weight: 500; }
        #container.dark-canvas .layer-label { color: #e5e7eb; }
        .sub-layers { max-height: 0; overflow: hidden; transition: max-height 0.3s ease; padding-left: 28px; }
        .sub-layers.expanded { max-height: 500px; }
        .sub-layer-item { display: flex; align-items: center; padding: 8px 0; padding-left: 10px; border-left: 2px solid rgba(229, 231, 235, 0.3); }
        .sub-layer-item .toggle-switch { width: 40px; height: 20px; margin-right: 10px; }
        .sub-layer-item .slider:before { height: 14px; width: 14px; }
        .sub-layer-item input:checked + .slider:before { transform: translateX(20px); }
        .sub-layer-item .layer-label { font-size: 13px; color: #64748b; font-weight: 400; }
        #container.dark-canvas .sub-layer-item .layer-label { color: #cbd5e1; }
        #controls { position: absolute; bottom: 20px; right: 20px; background: rgba(255, 255, 255, 0.02); backdrop-filter: blur(10px); border: 1px solid rgba(255, 255, 255, 0.1); color: #1e293b; padding: 15px; border-radius: 12px; font-size: 12px; box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1); max-width: 240px; pointer-events: none; }
        #container.dark-canvas #controls { background: rgba(0, 0, 0, 0.05); border: 1px solid rgba(255, 255, 255, 0.05); }
        #controls h4 { margin: 0 0 8px 0; color: #1e3a8a; font-size: 14px; font-weight: bold; }
        #container.dark-canvas #controls h4 { color: #93c5fd; }
        .control-item { margin: 5px 0; font-size: 11px; line-height: 1.4; }
        .control-label { font-weight: bold; color: #0f172a; display: inline-block; min-width: 75px; }
        #container.dark-canvas .control-label { color: #e0e7ff; }
        #container.dark-canvas .control-item { color: #cbd5e1; }
        .about-section { background: rgba(255, 255, 255, 0.95); border-radius: 10px; padding: 30px; box-shadow: 0 4px 20px rgba(0,0,0,0.2); margin-bottom: 30px; backdrop-filter: blur(10px); }
        body.fullscreen-mode .about-section { display: none; }
        .about-section h3 { color: #1e3a8a; margin-bottom: 20px; font-size: 24px; border-bottom: 3px solid #3b82f6; padding-bottom: 12px; }
        .about-section p { color: #475569; line-height: 1.8; font-size: 15px; margin-bottom: 25px; }
        .project-stats { display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 20px; margin-top: 25px; }
        .stat-card { background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); padding: 20px; border-radius: 8px; color: white; box-shadow: 0 2px 10px rgba(0,0,0,0.1); }
        .stat-label { font-size: 13px; opacity: 0.9; margin-bottom: 8px; font-weight: 500; }
        .stat-value { font-size: 24px; font-weight: bold; }
        footer { background: rgba(30, 58, 138, 0.85); backdrop-filter: blur(10px); color: white; padding: 40px 20px 20px; margin-top: 50px; box-shadow: 0 -2px 20px rgba(0,0,0,0.3); }
        body.fullscreen-mode footer { display: none; }
        .footer-content { max-width: 1800px; margin: 0 auto; display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 30px; margin-bottom: 30px; }
        .footer-section h4 { color: #93c5fd; margin-bottom: 15px; font-size: 16px; }
        .footer-section ul { list-style: none; }
        .footer-section ul li { margin: 8px 0; }
        .footer-section a { color: #e0e7ff; text-decoration: none; transition: color 0.3s; }
        .footer-section a:hover { color: #93c5fd; }
        .footer-bottom { max-width: 1800px; margin: 0 auto; padding-top: 20px; border-top: 1px solid rgba(255,255,255,0.1); text-align: center; color: #93c5fd; font-size: 14px; }
        @media (max-width: 768px) { .nav-menu { position: fixed; left: -100%; top: 60px; flex-direction: column; background: rgba(30, 58, 138, 0.95); width: 100%; text-align: center; transition: 0.3s; } .nav-menu.active { left: 0; } .hamburger { display: flex; } #container { height: 600px; } }
    </style>
</head>
<body>
    <div class="stars-container" id="starsContainer"></div>
    <nav>
        <div class="nav-container">
            <div class="logo">Black Hole Viewer</div>
            <ul class="nav-menu" id="navMenu">
                <li><a href="#home">Home</a></li>
                <li><a href="#projects">Projects</a></li>
                <li><a href="#analysis">Analysis</a></li>
                <li><a href="#about">About</a></li>
                <li><a href="#contact">Contact</a></li>
            </ul>
            <div class="hamburger" id="hamburger"><span></span><span></span><span></span></div>
        </div>
    </nav>
    <div class="page-wrapper">
        <div class="canvas-wrapper">
            <div id="container">
                <div class="canvas-bg-toggle">
                    <div class="toggle-row"><span class="canvas-bg-label">Canvas BG</span><label class="toggle-switch"><input type="checkbox" id="canvasBgToggle" onchange="toggleCanvasBackground()"><span class="slider"></span></label></div>
                    <div class="toggle-row"><span class="canvas-bg-label">Fullscreen</span><label class="toggle-switch"><input type="checkbox" id="fullscreenToggle" onchange="toggleFullscreen()"><span class="slider"></span></label></div>
                </div>
                <div class="layers-panel"><h3>Layers</h3><div class="layer-item"><div class="layer-header" onclick="toggleSubLayers(this)"><button class="expand-btn">+</button><label class="toggle-switch"><input type="checkbox" checked><span class="slider"></span></label><span class="layer-label">Civil</span></div><div class="sub-layers"><div class="sub-layer-item"><label class="toggle-switch"><input type="checkbox" checked><span class="slider"></span></label><span class="layer-label">Slabs</span></div></div></div></div>
                <canvas id="canvas"></canvas>
                <div id="controls"><h4>View Controls</h4><div class="control-item"><span class="control-label">Rotate:</span> Left Click + Drag</div><div class="control-item"><span class="control-label">Pan:</span> Right Click + Drag</div><div class="control-item"><span class="control-label">Zoom:</span> Mouse Scroll</div></div>
            </div>
        </div>
        <div class="about-section"><h3>About This Project</h3><p>This black hole visualization demonstrates gravitational phenomena inspired by the Interstellar movie. Experience the event horizon, accretion disk, gravitational lensing effects, and relativistic jets.</p><div class="project-stats"><div class="stat-card"><div class="stat-label">Type</div><div class="stat-value">Black Hole</div></div><div class="stat-card"><div class="stat-label">Mass</div><div class="stat-value">100M☉</div></div></div></div>
    </div>
    <footer><div class="footer-content"><div class="footer-section"><h4>Company</h4><ul><li><a href="#about">About Us</a></li></ul></div></div><div class="footer-bottom"><p>&copy; 2025 Black Hole Viewer. All rights reserved.</p></div></footer>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <script>
        function toggleFullscreen(){const body=document.body;const toggle=document.getElementById('fullscreenToggle');toggle.checked?body.classList.add('fullscreen-mode'):body.classList.remove('fullscreen-mode');setTimeout(()=>{onWindowResize();},100);}
        function toggleCanvasBackground(){const container=document.getElementById('container');const toggle=document.getElementById('canvasBgToggle');if(toggle.checked){container.classList.add('dark-canvas');scene.background=new THREE.Color(0x1a1a1a);}else{container.classList.remove('dark-canvas');scene.background=new THREE.Color(0xf8fafc);}}
        function createStars(){const container=document.getElementById('starsContainer');const numStars=200;for(let i=0;i<numStars;i++){const star=document.createElement('div');star.className='star';const size=Math.random()*3+1;star.style.width=size+'px';star.style.height=size+'px';star.style.left=Math.random()*100+'%';star.style.top=Math.random()*100+'%';const twinkleDuration=Math.random()*4+2;const moveDuration=Math.random()*40+40;star.style.animation=`twinkle ${twinkleDuration}s linear infinite, moveStar ${moveDuration}s linear infinite`;container.appendChild(star);}}
        createStars();
        function toggleSubLayers(header){const subLayers=header.nextElementSibling;const expandBtn=header.querySelector('.expand-btn');if(subLayers.classList.contains('expanded')){subLayers.classList.remove('expanded');expandBtn.textContent='+';}else{subLayers.classList.add('expanded');expandBtn.textContent='-';}}
        const hamburger=document.getElementById('hamburger');const navMenu=document.getElementById('navMenu');hamburger.addEventListener('click',()=>{navMenu.classList.toggle('active');});
        let scene,camera,renderer;let structure;let mouseX=0,mouseY=0;let targetRotationX=0,targetRotationY=0;let isDragging=false;let isPanning=false;let cameraTarget=new THREE.Vector3(0,0,0);let cameraPan=new THREE.Vector3(0,0,0);let keys={};let moveSpeed=0.3;let verticalSpeed=0.2;let canvasHasFocus=false;
        function init(){scene=new THREE.Scene();scene.background=new THREE.Color(0xf8fafc);const container=document.getElementById('container');camera=new THREE.PerspectiveCamera(50,container.clientWidth/container.clientHeight,1,1000);camera.position.set(0,20,80);camera.lookAt(cameraTarget);const canvas=document.getElementById('canvas');renderer=new THREE.WebGLRenderer({canvas,antialias:true});renderer.setSize(container.clientWidth,container.clientHeight);renderer.setPixelRatio(window.devicePixelRatio);const ambientLight=new THREE.AmbientLight(0xffffff,0.6);scene.add(ambientLight);const directionalLight=new THREE.DirectionalLight(0xffffff,0.8);directionalLight.position.set(20,30,20);scene.add(directionalLight);const directionalLight2=new THREE.DirectionalLight(0xffffff,0.4);directionalLight2.position.set(-20,20,-20);scene.add(directionalLight2);createStructure();canvas.addEventListener('mouseenter',()=>{canvasHasFocus=true;});canvas.addEventListener('mouseleave',()=>{canvasHasFocus=false;});canvas.addEventListener('mousedown',(e)=>{canvasHasFocus=true;onMouseDown(e);});canvas.addEventListener('mousemove',onMouseMove);canvas.addEventListener('mouseup',onMouseUp);canvas.addEventListener('wheel',onWheel);canvas.addEventListener('contextmenu',(e)=>e.preventDefault());window.addEventListener('keydown',onKeyDown);window.addEventListener('keyup',onKeyUp);window.addEventListener('resize',onWindowResize);animate();}
        function createStructure(){structure=new THREE.Group();const eventHorizonGeometry=new THREE.SphereGeometry(8,64,64);const eventHorizonMaterial=new THREE.MeshBasicMaterial({color:0x000000,side:THREE.FrontSide});const eventHorizon=new THREE.Mesh(eventHorizonGeometry,eventHorizonMaterial);eventHorizon.position.set(0,0,0);structure.add(eventHorizon);const diskSegments=8;for(let i=0;i<diskSegments;i++){const innerRadius=12+i*2;const outerRadius=innerRadius+2.5;const diskGeometry=new THREE.RingGeometry(innerRadius,outerRadius,64);const t=i/diskSegments;const color=new THREE.Color();color.setHSL(0.05+t*0.05,1.0,0.4+t*0.2);const diskMaterial=new THREE.MeshBasicMaterial({color:color,transparent:true,opacity:0.7-i*0.05,side:THREE.DoubleSide,blending:THREE.AdditiveBlending});const disk=new THREE.Mesh(diskGeometry,diskMaterial);disk.rotation.x=-Math.PI/2;disk.position.y=Math.sin(i*0.3)*0.5;structure.add(disk);}const lensRingGeometry=new THREE.TorusGeometry(15,0.3,16,100);const lensRingMaterial=new THREE.MeshBasicMaterial({color:0xffaa33,transparent:true,opacity:0.8,blending:THREE.AdditiveBlending});const topLensRing=new THREE.Mesh(lensRingGeometry,lensRingMaterial);topLensRing.position.y=5;topLensRing.rotation.x=Math.PI/2;structure.add(topLensRing);const bottomLensRing=new THREE.Mesh(lensRingGeometry,lensRingMaterial.clone());bottomLensRing.position.y=-5;bottomLensRing.rotation.x=Math.PI/2;structure.add(bottomLensRing);const photonSphereGeometry=new THREE.TorusGeometry(12,0.2,16,100);const photonSphereMaterial=new THREE.MeshBasicMaterial({color:0xffffaa,transparent:true,opacity:0.6,blending:THREE.AdditiveBlending});const photonSphere=new THREE.Mesh(photonSphereGeometry,photonSphereMaterial);photonSphere.rotation.x=Math.PI/2;structure.add(photonSphere);const particleCount=2000;const particlesGeometry=new THREE.BufferGeometry();const particlePositions=new Float32Array(particleCount*3);for(let i=0;i<particleCount;i++){const theta=Math.random()*Math.PI*2;const phi=Math.random()*Math.PI*2;const radius=25+Math.random()*30;particlePositions[i*3]=radius*Math.sin(theta)*Math.cos(phi);particlePositions[i*3+1]=(Math.random()-0.5)*15;particlePositions[i*3+2]=radius*Math.sin(theta)*Math.sin(phi);}particlesGeometry.setAttribute('position',new THREE.BufferAttribute(particlePositions,3));const particlesMaterial=new THREE.PointsMaterial({color:0xffaa55,size:0.3,transparent:true,opacity:0.6,blending:THREE.AdditiveBlending});const particles=new THREE.Points(particlesGeometry,particlesMaterial);structure.add(particles);const jetGeometry=new THREE.CylinderGeometry(0.5,2,40,16);const jetMaterial=new THREE.MeshBasicMaterial({color:0x6699ff,transparent:true,opacity:0.4,blending:THREE.AdditiveBlending});const topJet=new THREE.Mesh(jetGeometry,jetMaterial);topJet.position.y=25;structure.add(topJet);const bottomJet=new THREE.Mesh(jetGeometry,jetMaterial.clone());bottomJet.position.y=-25;structure.add(bottomJet);const distortionGeometry=new THREE.SphereGeometry(45,32,32);const distortionMaterial=new THREE.MeshBasicMaterial({color:0x3344ff,transparent:true,opacity:0.05,wireframe:true,blending:THREE.AdditiveBlending});const distortionField=new THREE.Mesh(distortionGeometry,distortionMaterial);structure.add(distortionField);scene.add(structure);}
        function onMouseDown(e){if(e.button===0){isDragging=true;isPanning=false;}else if(e.button===2){isPanning=true;isDragging=false;}mouseX=e.clientX;mouseY=e.clientY;}
        function onMouseMove(e){if(isDragging){const deltaX=e.clientX-mouseX;const deltaY=e.clientY-mouseY;targetRotationY+=deltaX*0.005;targetRotationX+=deltaY*0.005;mouseX=e.clientX;mouseY=e.clientY;}else if(isPanning){const deltaX=e.clientX-mouseX;const deltaY=e.clientY-mouseY;const panSpeed=0.05;const cameraDirection=new THREE.Vector3();camera.getWorldDirection(cameraDirection);const cameraRight=new THREE.Vector3();cameraRight.crossVectors(cameraDirection,new THREE.Vector3(0,1,0)).normalize();const cameraUp=new THREE.Vector3();cameraUp.crossVectors(cameraRight,cameraDirection).normalize();const panX=cameraRight.clone().multiplyScalar(-deltaX*panSpeed);const panY=cameraUp.clone().multiplyScalar(deltaY*panSpeed);camera.position.add(panX).add(panY);cameraTarget.add(panX).add(panY);cameraPan.copy(cameraTarget);mouseX=e.clientX;mouseY=e.clientY;}}
        function onMouseUp(){isDragging=false;isPanning=false;}
        function onWheel(e){e.preventDefault();const rect=renderer.domElement.getBoundingClientRect();const mouse=new THREE.Vector2(((e.clientX-rect.left)/rect.width)*2-1,-((e.clientY-rect.top)/rect.height)*2+1);const raycaster=new THREE.Raycaster();raycaster.setFromCamera(mouse,camera);const zoomDirection=raycaster.ray.direction.clone();const zoomAmount=e.deltaY>0?2:-2;camera.position.addScaledVector(zoomDirection,zoomAmount);cameraTarget.addScaledVector(zoomDirection,zoomAmount);cameraPan.copy(cameraTarget);const distance=camera.position.length();if(distance<5){camera.position.normalize().multiplyScalar(5);}}
        function onKeyDown(e){const navKeys=['arrowup','arrowdown','arrowleft','arrowright',' ','space'];const keyLower=e.key.toLowerCase();const codeLower=e.code.toLowerCase();if(canvasHasFocus&&(navKeys.includes(keyLower)||navKeys.includes(codeLower))){e.preventDefault();keys[keyLower]=true;keys[codeLower]=true;}else if(!navKeys.includes(keyLower)&&!navKeys.includes(codeLower)){keys[keyLower]=true;keys[codeLower]=true;}}
        function onKeyUp(e){keys[e.key.toLowerCase()]=false;keys[e.code.toLowerCase()]=false;}
        function updateWalkMovement(){if(!canvasHasFocus)return;const forward=new THREE.Vector3();camera.getWorldDirection(forward);forward.y=0;forward.normalize();const right=new THREE.Vector3();right.crossVectors(forward,new THREE.Vector3(0,1,0)).normalize();if(keys['w']||keys['arrowup']){camera.position.addScaledVector(forward,moveSpeed);cameraTarget.addScaledVector(forward,moveSpeed);}if(keys['s']||keys['arrowdown']){camera.position.addScaledVector(forward,-moveSpeed);cameraTarget.addScaledVector(forward,-moveSpeed);}if(keys['a']||keys['arrowleft']){camera.position.addScaledVector(right,-moveSpeed);cameraTarget.addScaledVector(right,-moveSpeed);}if(keys['d']||keys['arrowright']){camera.position.addScaledVector(right,moveSpeed);cameraTarget.addScaledVector(right,moveSpeed);}if(keys[' ']||keys['space']){camera.position.y+=verticalSpeed;cameraTarget.y+=verticalSpeed;}if(keys['shift']||keys['shiftleft']||keys['shiftright']){camera.position.y-=verticalSpeed;cameraTarget.y-=verticalSpeed;}cameraPan.copy(cameraTarget);}
        function onWindowResize(){const container=document.getElementById('container');camera.aspect=container.clientWidth/container.clientHeight;camera.updateProjectionMatrix();renderer.setSize(container.clientWidth,container.clientHeight);}
        function animate(){requestAnimationFrame(animate);updateWalkMovement();structure.rotation.y+=(targetRotationY-structure.rotation.y)*0.1;structure.rotation.x+=(targetRotationX-structure.rotation.x)*0.1;cameraTarget.x=cameraPan.x;cameraTarget.z=cameraPan.z;camera.lookAt(cameraTarget);structure.rotation.y+=0.001;renderer.render(scene,camera);}
        init();
    </script>
</body>
</html>
